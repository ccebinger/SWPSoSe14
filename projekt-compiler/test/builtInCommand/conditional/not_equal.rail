$'main'(--):
 \
  \                 /--[Not Equal]o---#
   \               /
    -----2--3--q--<
                   \
                    \--[Equal]o---#